#summary GISOO'S FAQ

<wiki:toc />
----

= Frequently Asked Questions =

----
== What do I need in order to use GISOO? == 

You will need to have:

  * A machine running either Linux or Windows

  * [http://www.mathworks.se/products/matlab/ MATLAB], [http://www.mathworks.se/products/simulink/ Simulink] and the  [http://www.mathworks.se/products/xpctarget/ xPC Target] Simulink toolbox

  * COOJA installed (comes with Contiki OS)

  * TinyOS installed (optional) 

Want to install GISOO? Follow the installation instructions on the "Installing GISOO" link!

== What if the mote emulation in COOJA does not work as in the real motes? == 

This could be because there are some incomplete, incorrect or missing drivers in MSPsim. Please let us know if this happens to you so we can be aware of it. Debugging MSPsim is pretty straightforward if you know a bit of Java and know how to use printfs. 

You have to download MSPsim to your machine by doing the following:
{{{
cd ~
cd local/src
git clone https://github.com/mspsim/mspsim
}}}

Then, you can go and modify the drivers you need to modify. For example, the CC2420 driver is located in the folder "se/sics/mspsim/chip"

Do your required modification in the file then open a terminal inside the  main folder of MSPsim and type 
{{{
ant jar
}}}
this command will compile the new code and create a .jar file.
Copy the .jar file and place it in the following folder "YOUR_CONTIKI_FOLDER/tools/mspsim". Then just run COOJA again to test your new driver!

== What if there is a driver in MSPsim that is incomplete, incorrect or missing?==

Please let us know if this happens to you so we can be aware of it. If this is the case, you have to install MSPsim and either fix MSPsim, or develop your new driver. Please check "What if the mote emulation in COOJA does not work as in the real motes?" for more information on how to install and compile MSPsim.

== How to create a specific mote-id in Cooja? ==
Since Cooja creates motes in order (It means that the generated mote-id will only be one after the other), the only way to create a mote with a specific Id is to create all the previous motes first and then create your mote with that id. For instance if you need only one mote in your simulation with id=4, first you need to crate 4 motes from your mote's type and then you can delete the first three ones.
(Mote-ids in Cooja will be shown as a number on the mote circle.)

== How to use the printf command in Cooja and GISOO? ==
In Cooja there is a "Mote Output" plug-in (which will be appear by default when you run the Cooja). This plug-in will show all the printed data with the printf command. The only point which should be considered is that you use the "SerialPrintfC" component  instead of "PrintfC" in your TinyOS code, otherwise you will receive several unwanted character in your printed message. If you want to use printf in GISOO you should not use it in the motes that the GISOO plug-in has been activated for them because the plug-in can not differ the printf messages with the serial data which can cause error or conflict. 

== Can we record the times and values of reading ADCs and writing DAC in GISOO? ==
Yes. GISOO's plug-in Cooja by default will create a folder by name of "ADCDACTime" in your C drive which contains two text files: "ADCTime.txt" and "DACTime" and will record:
Mote-pin-id,   simulation time(in ms),    ADC/DAC values 
in three different columns.

== Why 1 second in TinyOS is not equal with 1 second in Cooja? Can it affect the result of Simulation? ==
Cooja by default has been developed for Contiki's applications. In Contiki each second has been considered as 1000 milliseconds. But in TinyOS each second is 1024 milliseconds. This different will cause that any second in TinyOS application appear as 977 ms (1000/1024). But since this ratio is constant for all variety of times it should not make any affect in the result of the simulation.

== What if I face a problem for Serial Communication in GISOO?==
if you want to send data from Cooja to Simulink first be sure that your serial data has 16 bytes structure. (The structure of serial data has been explained in [https://code.google.com/p/kth-gisoo/wiki/Samples?ts=1385498264&updated=Samples#Serial_Communication Serial Communication])
But for serial communication from Simulink to Cooja the message should contains all the header and footer to be received by TinyOS application. The structure of serial messages has been explained in [http://tinyos.cvs.sourceforge.net/viewvc/tinyos/tinyos-2.x/doc/html/tep113.html  TEP 113]. The designed block for creating the Serial message with header and footer has been shown in the [https://code.google.com/p/kth-gisoo/wiki/technical_details#Sky-Mote SkyMote] explanations. Inside this block there are some constant blocks which provide the value the framing bytes, sender address, receiver address, Group-id and so on. In general simulation you should not need to change these values and the only which you may need to change should be AM packet type that in GISOO you can set it as one of the SkyMote parameter. But in rare situation you may need to change the other constant values. Just check and see if these change of value is needed in your case or not. If you still have problem please let us know, to fix the problem. 